<!DOCTYPE html>
<html lang="en">
<!--begin::Head-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Drone | Dashboard</title>
  <!--begin::Primary Meta Tags-->

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="title" content="Drone | Dashboard" />
  <meta name="author" content="ColorlibHQ" />
  <meta name="description"
    content="AdminLTE is a Free Bootstrap 5 Admin Dashboard, 30 example pages using Vanilla JS." />
  <meta name="keywords"
    content="bootstrap 5, bootstrap, bootstrap 5 admin dashboard, bootstrap 5 dashboard, bootstrap 5 charts, bootstrap 5 calendar, bootstrap 5 datepicker, bootstrap 5 tables, bootstrap 5 datatable, vanilla js datatable, colorlibhq, colorlibhq dashboard, colorlibhq admin dashboard" />

  <!-- Leaflet CSS & JS -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <script src="https://unpkg.com/leaflet-semicircle@1.0.6/dist/leaflet-semicircle.min.js"></script> -->

  <!-- Leaflet CSS & JS -->
  <link  rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Semicircle -->
  <script src="https://unpkg.com/leaflet-semicircle@2.0.4/Semicircle.js"></script>

  <!--end::Primary Meta Tags-->
  <!--begin::Fonts-->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css"
    integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q=" crossorigin="anonymous" /> -->
  <!--end::Fonts-->
  <!--begin::Third Party Plugin(OverlayScrollbars)-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/styles/overlayscrollbars.min.css"
    integrity="sha256-tZHrRjVqNSRyWg2wbppGnT833E/Ys0DHWGwT04GiqQg=" crossorigin="anonymous" />
  <!--end::Third Party Plugin(OverlayScrollbars)-->
  <!--begin::Third Party Plugin(Bootstrap Icons)-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    integrity="sha256-9kPW/n5nn53j4WMRYAxe9c1rCY96Oogo/MKSVdKzPmI=" crossorigin="anonymous" />
  <!--end::Third Party Plugin(Bootstrap Icons)-->
  <!--begin::Required Plugin(AdminLTE)-->
  <link rel="stylesheet" href="../../dist/css/adminlte.css" />
  <!--end::Required Plugin(AdminLTE)-->
  <!-- apexcharts -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.css"
    integrity="sha256-4MX+61mt9NVvvuPjUWdUdyfZfxSB1/Rf9WtqRHgG5S0=" crossorigin="anonymous" />
  <!-- jsvectormap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/css/jsvectormap.min.css"
    integrity="sha256-+uGLJmmTKOqBr+2E6KDYs/NRsHxSkONXFHUL0fy2O/4=" crossorigin="anonymous" />

  <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@7.0.5/dist/browser/signalr.min.js"></script>


</head>
<!--end::Head-->
<!--begin::Body-->

<body class="layout-fixed sidebar-expand-lg bg-body-tertiary">
  <!--begin::App Wrapper-->
  <div class="app-wrapper">
    <!--begin::Header-->
    <nav class="app-header navbar navbar-expand bg-body">
      <!--begin::Container-->
      <div class="container-fluid">
        <!--begin::Start Navbar Links-->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-lte-toggle="sidebar" href="#" role="button">
              <i class="bi bi-list"></i>
            </a>
          </li>
          <li class="nav-item d-none d-md-block"><a href="#" class="nav-link">Home</a></li>
          <li class="nav-item d-none d-md-block"><a href="#" class="nav-link">Contact</a></li>
        </ul>
        <!--end::Start Navbar Links-->
        <!--begin::End Navbar Links-->
        <ul class="navbar-nav ms-auto">
          <!--begin::Navbar Search-->
          <li class="nav-item">
            <a class="nav-link" data-widget="navbar-search" href="#" role="button">
              <i class="bi bi-search"></i>
            </a>
          </li>
          <!--end::Navbar Search-->
          <!--begin::Messages Dropdown Menu-->
          <li class="nav-item dropdown">
            <a class="nav-link" data-bs-toggle="dropdown" href="#">
              <i class="bi bi-chat-text"></i>
              <span class="navbar-badge badge text-bg-danger">3</span>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
              <a href="#" class="dropdown-item">
                <!--begin::Message-->
                <div class="d-flex">
                  <div class="flex-shrink-0">
                    <img src="../../dist/assets/img/podrez.png" alt="User Avatar"
                      class="img-size-50 rounded-circle me-3" />
                  </div>
                  <div class="flex-grow-1">
                    <h3 class="dropdown-item-title">
                      Brad Diesel
                      <span class="float-end fs-7 text-danger"><i class="bi bi-star-fill"></i></span>
                    </h3>
                    <p class="fs-7">Call me whenever you can...</p>
                    <p class="fs-7 text-secondary">
                      <i class="bi bi-clock-fill me-1"></i> 4 Hours Ago
                    </p>
                  </div>
                </div>
                <!--end::Message-->
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <!--begin::Message-->
                <div class="d-flex">
                  <div class="flex-shrink-0">
                    <img src="../../dist/assets/img/podrez.png" alt="User Avatar"
                      class="img-size-50 rounded-circle me-3" />
                  </div>
                  <div class="flex-grow-1">
                    <h3 class="dropdown-item-title">
                      John Pierce
                      <span class="float-end fs-7 text-secondary">
                        <i class="bi bi-star-fill"></i>
                      </span>
                    </h3>
                    <p class="fs-7">I got your message bro</p>
                    <p class="fs-7 text-secondary">
                      <i class="bi bi-clock-fill me-1"></i> 4 Hours Ago
                    </p>
                  </div>
                </div>
                <!--end::Message-->
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <!--begin::Message-->
                <div class="d-flex">
                  <div class="flex-shrink-0">
                    <img src="../../dist/assets/img/podrez.png" alt="User Avatar"
                      class="img-size-50 rounded-circle me-3" />
                  </div>
                  <div class="flex-grow-1">
                    <h3 class="dropdown-item-title">
                      Nora Silvester
                      <span class="float-end fs-7 text-warning">
                        <i class="bi bi-star-fill"></i>
                      </span>
                    </h3>
                    <p class="fs-7">The subject goes here</p>
                    <p class="fs-7 text-secondary">
                      <i class="bi bi-clock-fill me-1"></i> 4 Hours Ago
                    </p>
                  </div>
                </div>
                <!--end::Message-->
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
            </div>
          </li>
          <!--end::Messages Dropdown Menu-->
          <!--begin::Notifications Dropdown Menu-->
          <li class="nav-item dropdown">
            <a class="nav-link" data-bs-toggle="dropdown" href="#">
              <i class="bi bi-bell-fill"></i>
              <span class="navbar-badge badge text-bg-warning">15</span>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
              <span class="dropdown-item dropdown-header">15 Notifications</span>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="bi bi-envelope me-2"></i> 4 new messages
                <span class="float-end text-secondary fs-7">3 mins</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="bi bi-people-fill me-2"></i> 8 friend requests
                <span class="float-end text-secondary fs-7">12 hours</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="bi bi-file-earmark-fill me-2"></i> 3 new reports
                <span class="float-end text-secondary fs-7">2 days</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item dropdown-footer"> See All Notifications </a>
            </div>
          </li>
          <!--end::Notifications Dropdown Menu-->
          <!--begin::Fullscreen Toggle-->
          <li class="nav-item">
            <a class="nav-link" href="#" data-lte-toggle="fullscreen">
              <i data-lte-icon="maximize" class="bi bi-arrows-fullscreen"></i>
              <i data-lte-icon="minimize" class="bi bi-fullscreen-exit" style="display: none"></i>
            </a>
          </li>
          <!--end::Fullscreen Toggle-->
          <!--begin::User Menu Dropdown-->
          <li class="nav-item dropdown user-menu">
            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
              <img src="../../dist/assets/img/podrez.png" class="user-image rounded-circle shadow" alt="User Image" />
              <span class="d-none d-md-inline">Podrez Vadim</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-end">
              <!--begin::User Image-->
              <li class="user-header text-bg-primary">
                <img src="../../dist/assets/img/podrez.png" class="rounded-circle shadow" alt="User Image" />
                <p>
                  Podrez Vadim
                  <small>Member since 2025</small>
                </p>
              </li>
              <!--end::User Image-->
              <!--begin::Menu Body-->
              <li class="user-body">
                <!--begin::Row-->
                <div class="row">
                  <div class="col-4 text-center"><a href="#">Followers</a></div>
                  <div class="col-4 text-center"><a href="#">Sales</a></div>
                  <div class="col-4 text-center"><a href="#">Friends</a></div>
                </div>
                <!--end::Row-->
              </li>
              <!--end::Menu Body-->
              <!--begin::Menu Footer-->
              <li class="user-footer">
                <a href="#" class="btn btn-default btn-flat">Profile</a>
                <a href="#" class="btn btn-default btn-flat float-end">Sign out</a>
              </li>
              <!--end::Menu Footer-->
            </ul>
          </li>
          <!--end::User Menu Dropdown-->
        </ul>
        <!--end::End Navbar Links-->
      </div>
      <!--end::Container-->
    </nav>
    <!--end::Header-->
    <!--begin::Sidebar-->
    <aside class="app-sidebar bg-body-secondary shadow" data-bs-theme="dark">
      <!--begin::Sidebar Brand-->
      <div class="sidebar-brand">
        <!--begin::Brand Link-->
        <a href="./index.html" class="brand-link">
          <!--begin::Brand Image-->
          <img src="../../dist/assets/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image opacity-75 shadow" />
          <!--end::Brand Image-->
          <!--begin::Brand Text-->
          <span class="brand-text fw-light">Drone Dashboard</span>
          <!--end::Brand Text-->
        </a>
        <!--end::Brand Link-->
      </div>
      <!--end::Sidebar Brand-->
      <!--begin::Sidebar Wrapper-->
      <div class="sidebar-wrapper">
        <nav class="mt-2">
          <!--begin::Sidebar Menu-->
          <ul class="nav sidebar-menu flex-column" data-lte-toggle="treeview" role="menu" data-accordion="false">
            <li class="nav-item menu-open">
              <a href="#" class="nav-link active">
                <i class="nav-icon bi bi-speedometer"></i>
                <p>
                  Dashboard
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./index.html" class="nav-link active">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Dashboard v1</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./index2.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Dashboard v2</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./index3.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Dashboard v3</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="./generate/theme.html" class="nav-link">
                <i class="nav-icon bi bi-palette"></i>
                <p>Theme Generate</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-box-seam-fill"></i>
                <p>
                  Widgets
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./widgets/small-box.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Small Box</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./widgets/info-box.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>info Box</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./widgets/cards.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Cards</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-clipboard-fill"></i>
                <p>
                  Layout Options
                  <span class="nav-badge badge text-bg-secondary me-3">6</span>
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./layout/unfixed-sidebar.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Default Sidebar</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./layout/fixed-sidebar.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Fixed Sidebar</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./layout/layout-custom-area.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Layout <small>+ Custom Area </small></p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./layout/sidebar-mini.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Sidebar Mini</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./layout/collapsed-sidebar.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Sidebar Mini <small>+ Collapsed</small></p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./layout/logo-switch.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Sidebar Mini <small>+ Logo Switch</small></p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./layout/layout-rtl.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Layout RTL</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-tree-fill"></i>
                <p>
                  UI Elements
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./UI/general.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>General</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./UI/icons.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Icons</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./UI/timeline.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Timeline</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-pencil-square"></i>
                <p>
                  Forms
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./forms/general.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>General Elements</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-table"></i>
                <p>
                  Tables
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./tables/simple.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Simple Tables</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-header">EXAMPLES</li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-box-arrow-in-right"></i>
                <p>
                  Auth
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="nav-icon bi bi-box-arrow-in-right"></i>
                    <p>
                      Version 1
                      <i class="nav-arrow bi bi-chevron-right"></i>
                    </p>
                  </a>
                  <ul class="nav nav-treeview">
                    <li class="nav-item">
                      <a href="./examples/login.html" class="nav-link">
                        <i class="nav-icon bi bi-circle"></i>
                        <p>Login</p>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a href="./examples/register.html" class="nav-link">
                        <i class="nav-icon bi bi-circle"></i>
                        <p>Register</p>
                      </a>
                    </li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="nav-icon bi bi-box-arrow-in-right"></i>
                    <p>
                      Version 2
                      <i class="nav-arrow bi bi-chevron-right"></i>
                    </p>
                  </a>
                  <ul class="nav nav-treeview">
                    <li class="nav-item">
                      <a href="./examples/login-v2.html" class="nav-link">
                        <i class="nav-icon bi bi-circle"></i>
                        <p>Login</p>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a href="./examples/register-v2.html" class="nav-link">
                        <i class="nav-icon bi bi-circle"></i>
                        <p>Register</p>
                      </a>
                    </li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a href="./examples/lockscreen.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Lockscreen</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-header">DOCUMENTATIONS</li>
            <li class="nav-item">
              <a href="./docs/introduction.html" class="nav-link">
                <i class="nav-icon bi bi-download"></i>
                <p>Installation</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="./docs/layout.html" class="nav-link">
                <i class="nav-icon bi bi-grip-horizontal"></i>
                <p>Layout</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="./docs/color-mode.html" class="nav-link">
                <i class="nav-icon bi bi-star-half"></i>
                <p>Color Mode</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-ui-checks-grid"></i>
                <p>
                  Components
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./docs/components/main-header.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Main Header</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="./docs/components/main-sidebar.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Main Sidebar</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-filetype-js"></i>
                <p>
                  Javascript
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="./docs/javascript/treeview.html" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Treeview</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="./docs/browser-support.html" class="nav-link">
                <i class="nav-icon bi bi-browser-edge"></i>
                <p>Browser Support</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="./docs/how-to-contribute.html" class="nav-link">
                <i class="nav-icon bi bi-hand-thumbs-up-fill"></i>
                <p>How To Contribute</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="./docs/faq.html" class="nav-link">
                <i class="nav-icon bi bi-question-circle-fill"></i>
                <p>FAQ</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="./docs/license.html" class="nav-link">
                <i class="nav-icon bi bi-patch-check-fill"></i>
                <p>License</p>
              </a>
            </li>
            <li class="nav-header">MULTI LEVEL EXAMPLE</li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-circle-fill"></i>
                <p>Level 1</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-circle-fill"></i>
                <p>
                  Level 1
                  <i class="nav-arrow bi bi-chevron-right"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Level 2</p>
                  </a>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>
                      Level 2
                      <i class="nav-arrow bi bi-chevron-right"></i>
                    </p>
                  </a>
                  <ul class="nav nav-treeview">
                    <li class="nav-item">
                      <a href="#" class="nav-link">
                        <i class="nav-icon bi bi-record-circle-fill"></i>
                        <p>Level 3</p>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a href="#" class="nav-link">
                        <i class="nav-icon bi bi-record-circle-fill"></i>
                        <p>Level 3</p>
                      </a>
                    </li>
                    <li class="nav-item">
                      <a href="#" class="nav-link">
                        <i class="nav-icon bi bi-record-circle-fill"></i>
                        <p>Level 3</p>
                      </a>
                    </li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a href="#" class="nav-link">
                    <i class="nav-icon bi bi-circle"></i>
                    <p>Level 2</p>
                  </a>
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-circle-fill"></i>
                <p>Level 1</p>
              </a>
            </li>
            <li class="nav-header">LABELS</li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-circle text-danger"></i>
                <p class="text">Important</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-circle text-warning"></i>
                <p>Warning</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="nav-icon bi bi-circle text-info"></i>
                <p>Informational</p>
              </a>
            </li>
          </ul>
          <!--end::Sidebar Menu-->
        </nav>
      </div>
      <!--end::Sidebar Wrapper-->
    </aside>
    <!--end::Sidebar-->
    <!--begin::App Main-->
    <main class="app-main">
      <!--begin::App Content Header-->
      <div class="app-content-header">
        <!--begin::Container-->
        <div class="container-fluid">
          <!--begin::Row-->
          <div class="row">
            <div class="col-sm-6">
              <h3 class="mb-0">Dashboard</h3>
            </div>
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-end">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
              </ol>
            </div>
          </div>
          <!--end::Row-->
        </div>
        <!--end::Container-->
      </div>
      <!--end::App Content Header-->
      <!--begin::App Content-->
      <div class="app-content">
        <!--begin::Container-->
        <div class="container-fluid">
          <!--begin::Row-->
          <div class="row">
            <!--begin::Col-->
            <div class="col-lg-3 col-6">
              <!--begin::Small Box Widget 1-->
              <div class="small-box text-bg-primary">
                <div class="inner">
                  <h3></h3>
                  <p>Analyses</p>
                </div>
                <svg class="small-box-icon" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true">
                  <path
                    d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75zM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 01-1.875-1.875V8.625zM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 013 19.875v-6.75z">
                  </path>
                </svg>
                <a href="#"
                  class="small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover">
                  More info <i class="bi bi-link-45deg"></i>
                </a>
              </div>
              <!--end::Small Box Widget 1-->
            </div>
            <!--end::Col-->
            <div class="col-lg-3 col-6">
              <!--begin::Small Box Widget 2-->
              <div class="small-box text-bg-success">
                <div class="inner">
                  <h3><sup class="fs-5"></sup></h3>
                  <p>Drone Rate</p>
                </div>
                <svg class="small-box-icon" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true">
                  <path
                    d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75zM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 01-1.875-1.875V8.625zM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 013 19.875v-6.75z">
                  </path>
                </svg>
                <a href="#"
                  class="small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover">
                  More info <i class="bi bi-link-45deg"></i>
                </a>
              </div>
              <!--end::Small Box Widget 2-->
            </div>
            <!--end::Col-->
            <div class="col-lg-3 col-6">
              <!--begin::Small Box Widget 3-->
              <div class="small-box text-bg-warning">
                <div class="inner">
                  <h3></h3>
                  <p>Drone Registrations</p>
                </div>
                <svg class="small-box-icon" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true">
                  <path
                    d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z">
                  </path>
                </svg>
                <a href="#" class="small-box-footer link-dark link-underline-opacity-0 link-underline-opacity-50-hover">
                  More info <i class="bi bi-link-45deg"></i>
                </a>
              </div>
              <!--end::Small Box Widget 3-->
            </div>
            <!--end::Col-->
            <div class="col-lg-3 col-6">
              <!--begin::Small Box Widget 4-->
              <div class="small-box text-bg-danger">
                <div class="inner">
                  <h3></h3>
                  <p>Analyses</p>
                </div>
                <svg class="small-box-icon" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true">
                  <path clip-rule="evenodd" fill-rule="evenodd"
                    d="M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z">
                  </path>
                  <path clip-rule="evenodd" fill-rule="evenodd"
                    d="M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75V3z">
                  </path>
                </svg>
                <a href="#"
                  class="small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover">
                  More info <i class="bi bi-link-45deg"></i>
                </a>
              </div>
              <!--end::Small Box Widget 4-->
            </div>
            <!--end::Col-->
          </div>
          <!--end::Row-->
          <!--begin::Row-->
          <div class="row">
            <!-- Start col -->
            <div class="col-lg-7 connectedSortable">
              <div class="card mb-4">
                <div class="card mb-4">
                  <div class="card-header">
                    <h3 class="card-title">Drone Events Map</h3>
                  </div>
                  <div class="card-body" style="height: 700px;">
                    <div id="drone-map" style="width: 100%; height: 100%;"></div>
                  </div>
                </div>

              </div>
              <!-- /.direct-chat -->
            </div>
            <!-- /.Start col -->
            <!-- Start col -->
            <div class="col-lg-5 connectedSortable">
              <div class="card text-white bg-primary bg-gradient border-primary mb-4">
                <div class="card-header border-0">
                  <div class="card-header">
                    <h3 class="card-title">Event Log</h3>
                  </div>
                  <div class="card-body">
                    <div style="max-height:650px; overflow-y:auto;">
                    <table class="table table-sm table-hover table-dark mb-0">
                      <thead>
                      <tr><th>#</th><th>Time</th><th>Sensor</th><th>Type</th>
                      <th>Confidence</th><th>Level</th><th>Lat</th><th>Lng</th></tr>
                      </thead>
                      <tbody id="event-log-body"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
             <div class="col-12">
              <div id="console-card" class="card bg-dark text-white mb-4">
                <div class="card-header py-2"><h3 class="card-title fs-6 mb-0">–ö–æ–Ω—Å–æ–ª—å</h3></div>
                <div class="card-body p-2">
                  <pre id="console-body"
                    style="max-height:120px;overflow-y:auto;white-space:pre-wrap;"></pre>
                </div>
              </div>
            </div>

            <!-- /.row (main row) -->
          </div>
          <!--end::Container-->
        </div>
        <!--end::App Content-->
    </main>
    <!--end::App Main-->
    <!--begin::Footer-->
    <footer class="app-footer">
      <!--begin::To the end-->
      <div class="float-end d-none d-sm-inline">Anything you want</div>
      <!--end::To the end-->
      <!--begin::Copyright-->
      <strong>
        Copyright &copy; 2014-2024&nbsp;
        <a href="https://adminlte.io" class="text-decoration-none">AdminLTE.io</a>.
      </strong>
      All rights reserved.
      <!--end::Copyright-->
    </footer>
    <!--end::Footer-->
  </div>
  <!--end::App Wrapper-->
  <!--begin::Script-->
  <!--begin::Third Party Plugin(OverlayScrollbars)-->
  <script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.10.1/browser/overlayscrollbars.browser.es6.min.js"
    integrity="sha256-dghWARbRe2eLlIJ56wNB+b760ywulqK3DzZYEpsg2fQ=" crossorigin="anonymous"></script>
  <!--end::Third Party Plugin(OverlayScrollbars)--><!--begin::Required Plugin(popperjs for Bootstrap 5)-->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <!--end::Required Plugin(popperjs for Bootstrap 5)--><!--begin::Required Plugin(Bootstrap 5)-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
  <!--end::Required Plugin(Bootstrap 5)--><!--begin::Required Plugin(AdminLTE)-->
  <script src="../../dist/js/adminlte.js"></script>
  <!--end::Required Plugin(AdminLTE)--><!--begin::OverlayScrollbars Configure-->
  <script>
    const SELECTOR_SIDEBAR_WRAPPER = '.sidebar-wrapper';
    const Default = {
      scrollbarTheme: 'os-theme-light',
      scrollbarAutoHide: 'leave',
      scrollbarClickScroll: true,
    };
    document.addEventListener('DOMContentLoaded', function () {
      const sidebarWrapper = document.querySelector(SELECTOR_SIDEBAR_WRAPPER);
      if (sidebarWrapper && typeof OverlayScrollbarsGlobal?.OverlayScrollbars !== 'undefined') {
        OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
          scrollbars: {
            theme: Default.scrollbarTheme,
            autoHide: Default.scrollbarAutoHide,
            clickScroll: Default.scrollbarClickScroll,
          },
        });
      }
    });
  </script>
  <!--end::OverlayScrollbars Configure-->
  <!-- OPTIONAL SCRIPTS -->
  <!-- sortablejs -->
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"
    integrity="sha256-ipiJrswvAR4VAx/th+6zWsdeYmVae0iJuiR+6OqHJHQ=" crossorigin="anonymous"></script>
  <!-- sortablejs -->
  <script>
    const connectedSortables = document.querySelectorAll('.connectedSortable');
    connectedSortables.forEach((connectedSortable) => {
      let sortable = new Sortable(connectedSortable, {
        group: 'shared',
        handle: '.card-header',
      });
    });

    const cardHeaders = document.querySelectorAll('.connectedSortable .card-header');
    cardHeaders.forEach((cardHeader) => {
      cardHeader.style.cursor = 'move';
    });
  </script>
  <!-- apexcharts -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.min.js"
    integrity="sha256-+vh8GkaU7C9/wbSLIcwq82tQ2wTf44aOHA8HlBMwRI8=" crossorigin="anonymous"></script>
  <!-- ChartJS -->
  <script>
    // NOTICE!! DO NOT USE ANY OF THIS JAVASCRIPT
    // IT'S ALL JUST JUNK FOR DEMO
    // ++++++++++++++++++++++++++++++++++++++++++

    const sales_chart_options = {
      series: [
        {
          name: 'Digital Goods',
          data: [28, 48, 40, 19, 86, 27, 90],
        },
        {
          name: 'Electronics',
          data: [65, 59, 80, 81, 56, 55, 40],
        },
      ],
      chart: {
        height: 300,
        type: 'area',
        toolbar: {
          show: false,
        },
      },
      legend: {
        show: false,
      },
      colors: ['#0d6efd', '#20c997'],
      dataLabels: {
        enabled: false,
      },
      stroke: {
        curve: 'smooth',
      },
      xaxis: {
        type: 'datetime',
        categories: [
          '2023-01-01',
          '2023-02-01',
          '2023-03-01',
          '2023-04-01',
          '2023-05-01',
          '2023-06-01',
          '2023-07-01',
        ],
      },
      tooltip: {
        x: {
          format: 'MMMM yyyy',
        },
      },
    };

    const sales_chart = new ApexCharts(
      document.querySelector('#revenue-chart'),
      sales_chart_options
    );
    sales_chart.render();
  </script>
  <!-- jsvectormap -->
  <script src="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/js/jsvectormap.min.js"
    integrity="sha256-/t1nN2956BT869E6H4V1dnt0X5pAQHPytli+1nTZm2Y=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/maps/world.js"
    integrity="sha256-XPpPaZlU8S/HWf7FZLAncLg2SAkP8ScUTII89x9D3lY=" crossorigin="anonymous"></script>
  <!-- jsvectormap -->
  <script>
    const visitorsData = {
      US: 398, // USA
      SA: 400, // Saudi Arabia
      CA: 1000, // Canada
      DE: 500, // Germany
      FR: 760, // France
      CN: 300, // China
      AU: 700, // Australia
      BR: 600, // Brazil
      IN: 800, // India
      GB: 320, // Great Britain
      RU: 3000, // Russia
    };

    // World map by jsVectorMap
    const jsmap = new jsVectorMap({
      selector: '#world-map',
      map: 'world',
    });

    // Sparkline charts
    const option_sparkline1 = {
      series: [
        {
          data: [1000, 1200, 920, 927, 931, 1027, 819, 930, 1021],
        },
      ],
      chart: {
        type: 'area',
        height: 50,
        sparkline: {
          enabled: true,
        },
      },
      stroke: {
        curve: 'straight',
      },
      fill: {
        opacity: 0.3,
      },
      yaxis: {
        min: 0,
      },
      colors: ['#DCE6EC'],
    };

    const sparkline1 = new ApexCharts(document.querySelector('#sparkline-1'), option_sparkline1);
    sparkline1.render();

    const option_sparkline2 = {
      series: [
        {
          data: [515, 519, 520, 522, 652, 810, 370, 627, 319, 630, 921],
        },
      ],
      chart: {
        type: 'area',
        height: 50,
        sparkline: {
          enabled: true,
        },
      },
      stroke: {
        curve: 'straight',
      },
      fill: {
        opacity: 0.3,
      },
      yaxis: {
        min: 0,
      },
      colors: ['#DCE6EC'],
    };

    const sparkline2 = new ApexCharts(document.querySelector('#sparkline-2'), option_sparkline2);
    sparkline2.render();

    const option_sparkline3 = {
      series: [
        {
          data: [15, 19, 20, 22, 33, 27, 31, 27, 19, 30, 21],
        },
      ],
      chart: {
        type: 'area',
        height: 50,
        sparkline: {
          enabled: true,
        },
      },
      stroke: {
        curve: 'straight',
      },
      fill: {
        opacity: 0.3,
      },
      yaxis: {
        min: 0,
      },
      colors: ['#DCE6EC'],
    };

    const sparkline3 = new ApexCharts(document.querySelector('#sparkline-3'), option_sparkline3);
    sparkline3.render();
  </script>





<script>
/* =========== 1.   –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ =========== */
let map, eventIdx = 1;
const sensorZones = {};          // sensorId ‚Üí {circle, radius}


/* ‚Äî‚Äî‚Äî –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Äî‚Äî‚Äî */
const BUFFER_MS    = 30_000;          // —Ç—Ä–∏–º–∞—î–º–æ 10 —Å —ñ—Å—Ç–æ—Ä—ñ—ó
const CELL_SIZE_M  = 1500;             // ‚Äú–∫–≤–∞–¥—Ä–∞—Ç‚Äù ‚âà 1500 –º
const DEG_PER_M    = 1 / 111_320;     // 1 –º —É –≥—Ä–∞–¥—É—Å–∞—Ö (—Å–ø—Ä–æ—â–µ–Ω–æ –¥–ª—è –ö–∏—î–≤–∞)
const CELL_DEG     = CELL_SIZE_M * DEG_PER_M;

/* ‚Äî‚Äî‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—É—Ñ–µ—Ä–∞ ‚Äî‚Äî‚Äî */
const buf = []; // [{ts, cellKey, type, alarm, lat, lng}, ‚Ä¶]

/** –ü–æ–≤–µ—Ä—Ç–∞—î –∫–ª—é—á ¬´“ë—Ä—ñ–¥-–∫–æ–º—ñ—Ä–∫–∏¬ª –¥–ª—è –∑–∞–¥–∞–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. */
function cellKey(lat, lng) {
  return `${Math.floor(lat / CELL_DEG)}:${Math.floor(lng / CELL_DEG)}`;
}

/** –û–±—Ä—ñ–∑–∞—î –∑ –±—É—Ñ–µ—Ä–∞ –∑–∞–ø–∏—Å–∏, –¥–∞–≤–Ω—ñ—à—ñ –∑–∞ BUFFER_MS. */
function pruneBuffer(now) {
  const cut = now - BUFFER_MS;
  while (buf.length && buf[0].ts < cut) buf.shift();
}

/**
 * –í–∏–∑–Ω–∞—á–∞—î —Ä—ñ–≤–µ–Ω—å –∑–∞–≥—Ä–æ–∑–∏ —É –∑–∞–¥–∞–Ω—ñ–π –∫–æ–º—ñ—Ä—Ü—ñ.
 *  ‚Ä¢ Detection ‚Äî —î —Ö–æ—á–∞ –± –æ–¥–∏–Ω `alarm:true`
 *  ‚Ä¢ Alert     ‚Äî ‚â• 4 –ø–æ–¥—ñ—ó –∑–∞ –≤—ñ–∫–Ω–æ BUFFER_MS
 *  ‚Ä¢ Event     ‚Äî —Ä–µ—à—Ç–∞
 */
function levelForCell(cell, now) {
  const recent = buf.filter(e => e.cellKey === cell && now - e.ts < BUFFER_MS);

  if (!recent.length)        return 'Event';
  if (recent.some(e => e.alarm)) return 'Detection';
  if (recent.length >= 2)    return 'Alert';
  return 'Event';
}

function colorByLevel(lvl){
  switch(lvl){
    case 'Detection': return '#e10600';     // üî¥
    case 'Alert':     return '#ffbe00';     // üü°
    default:          return '#9e9e9e';     // ‚ö™
  }
}
function badgeHtml(lvl){
  return lvl==='Detection' ? '<span class="badge bg-danger">Detection</span>' :
         lvl==='Alert'     ? '<span class="badge bg-warning text-dark">Alert</span>' :
                             '<span class="badge bg-secondary">Event</span>';
}


/* =========== 3.   –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Leaflet =========== */
const cameraLayer = L.layerGroup();

const cameras = [
  { id: 'cam-1', lat: 50.53943, lng: 30.59922, azimuth:  60, fov:112, range:450 }, // SW
  { id: 'cam-2', lat: 50.54393, lng: 30.60922, azimuth:  60, fov:112, range:450 }, // NE
  { id: 'cam-3', lat: 50.54143, lng: 30.61052, azimuth:  90, fov:112, range:450 }  // E
];

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ —Å–µ–Ω—Å–æ—Ä–Ω–∞ ¬´–∫–æ—Ä–æ–Ω–∞¬ª ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const sensors = [
  /* —Ä–∞–¥–∞¬≠—Ä–∏ (~650 –º –≤—ñ–¥ HUB) */
  { id: 1, type: 'radar', lat: 50.54153, lng: 30.59545, radius:1000 }, // W
  { id: 2, type: 'radar', lat: 50.54443, lng: 30.61172, radius:1000 }, // NE
  { id: 3, type: 'radar', lat: 50.53893, lng: 30.61302, radius:1000 }, // SE
  { id: 4, type: 'radar', lat: 50.54423, lng: 30.59902, radius:1000 }, // NW

  /* –∞–∫—É—Å—Ç–∏–∫–∞ (~200 –º) */
  { id: 5, type: 'audio', lat: 50.54343, lng: 30.60462, radius:400 },  // N
  { id: 6, type: 'audio', lat: 50.53993, lng: 30.60702, radius:400 },  // SE
  { id: 7, type: 'audio', lat: 50.53993, lng: 30.60222, radius:400 }   // SW
];
  
  /* –ü—ñ–≤–Ω—ñ—á (–û–±–æ–ª–æ–Ω—å ‚Üí –ü—É—â–∞-–í–æ–¥–∏—Ü—è) */
  // { id:  6, type: 'radar', lat: 50.540, lng: 30.510, radius: 2500 },
  // { id:  8, type: 'audio', lat: 50.560, lng: 30.450, radius: 1500 },

  // /* –ü—ñ–≤–Ω—ñ—á–Ω–∏–π —Å—Ö—ñ–¥ (–¢—Ä–æ—î—â–∏–Ω–∞ ‚Üí –ë—Ä–æ–≤–∞—Ä–∏) */
  // { id:  9, type: 'radar', lat: 50.520, lng: 30.660, radius: 2200 },
  // { id: 10, type: 'radar', lat: 50.530, lng: 30.700, radius: 2800 },

  // /* –ó–∞—Ö—ñ–¥ (–°–≤—è—Ç–æ—à–∏–Ω ‚Üí –Ü—Ä–ø—ñ–Ω—å/–ë—É—á–∞) */
  // { id: 12, type: 'audio', lat: 50.490, lng: 30.380, radius: 1200 },

  // /* –ü—ñ–≤–¥–µ–Ω–Ω–∏–π –∑–∞—Ö—ñ–¥ (–í–∏—à–Ω–µ–≤–µ ‚Üí –ì–∞—Ç–Ω–µ) */
  // { id: 13, type: 'radar', lat: 50.390, lng: 30.380, radius: 2500 },
  // { id: 14, type: 'radar', lat: 50.410, lng: 30.420, radius: 2000 },

  // /* –ü—ñ–≤–¥–µ–Ω—å (–ì–æ–ª–æ—Å—ñ—ó–≤ ‚Üí –ö–æ–Ω—á–∞-–ó–∞—Å–ø–∞) */
  // { id: 15, type: 'audio', lat: 50.350, lng: 30.500, radius: 1800 },
  // { id: 16, type: 'radar', lat: 50.330, lng: 30.580, radius:  850 },

  // /* –ü—ñ–≤–¥–µ–Ω–Ω–∏–π —Å—Ö—ñ–¥ (–î–∞—Ä–Ω–∏—Ü—è ‚Üí –ë–æ—Ä–∏—Å–ø—ñ–ª—å) */
  // { id: 17, type: 'radar', lat: 50.380, lng: 30.690, radius: 2300 },
  // { id: 18, type: 'radar', lat: 50.400, lng: 30.740, radius: 2600 },

  // /* –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –ø–æ—è—Å */
  // { id: 19, type: 'audio', lat: 50.600, lng: 30.600, radius: 1600 },
  // { id: 20, type: 'radar', lat: 50.300, lng: 30.350, radius: 2400 }


  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–∞—Ä—Ç—É –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM
    document.addEventListener("DOMContentLoaded", function () {
    map = L.map('drone-map').setView([50.4501, 30.5234], 11); // –ö–∏—ó–≤
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);
    cameraLayer.addTo(map);

    const radarIcon = L.divIcon({
      html: `<img src="../../dist/assets/img/radar.svg" width="30" height="30">`,
      iconSize:   [30, 30],
      iconAnchor: [15, 15],
      popupAnchor:[ 0, -15],
      className: ''
    });

    const audioIcon = L.divIcon({
      html: `<img src="../../dist/assets/img/audio.svg" width="30" height="30">`,
      iconSize:[30,30], iconAnchor:[15,15], popupAnchor:[0,-15],
      className:''
    });
    
    const camIcon = L.icon({
      iconUrl: '../../dist/assets/img/camera-web-svgrepo-com.svg', 
      iconSize:   [30, 30],
      iconAnchor: [15, 15],
      popupAnchor:[ 0, -15]
    });
    




    sensors.forEach(s => {
    const sensorIcon = (s.type === 'radar') ? radarIcon : audioIcon;

    L.marker([s.lat, s.lng], { icon: sensorIcon })
    .bindPopup(`<b>${s.type.toUpperCase()} Sensor #${s.id}</b>`)
    .addTo(map);

    const clr = (s.type === 'radar') ? '#18c718' : '#a866ff';  
    const circle = L.circle([s.lat, s.lng], {
        color: clr,
        fillColor: clr,
        fillOpacity: 0.25,
        radius: s.radius
    }).addTo(map);
      circle.bindPopup(`Sensor ID: ${s.id}`);
      sensorZones[s.id] = { circle, radius: s.radius };
    });

    cameras.forEach(c => {
      const m = L.marker([c.lat, c.lng], { icon: camIcon })
                 .bindPopup(`<b>–ö–∞–º–µ—Ä–∞ ${c.id}</b>`)
                 .addTo(cameraLayer);

    const sector = L.semiCircle([c.lat,c.lng], {
      radius: c.range,
      startAngle: c.azimuth - c.fov/2,
      stopAngle:  c.azimuth + c.fov/2,
      color:'#2b90d9', fillColor:'#2b90d9', fillOpacity:0.2,
      interactive:false
    }).addTo(cameraLayer);

    });
  });

/* ----------------- SignalR ----------------- */
const connection = new signalR.HubConnectionBuilder()
  .withUrl("http://localhost:8080/eventHub")
  .configureLogging(signalR.LogLevel.Information)
  .withAutomaticReconnect()
  .build();

/* 1Ô∏è‚É£  —Å–ª—É—Ö–∞—î–º–æ —Å–∞–º–µ 'newevent' (–Ω–∏–∂–Ω—ñ–π —Ä–µ–≥—ñ—Å—Ç—Ä) */
connection.on('newevent', ev => {
  console.log('New event:', ev);
  // 2Ô∏è‚É£  –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —ñ–º–µ–Ω–∞ –ø–æ–ª—ñ–≤  X  /  Y
  const { x, X, y, Y } = ev.coords;
  const lat = X ?? x;           // –ø—ñ–¥—Ç—Ä–∏–º—É—î–º–æ –æ–±–∏–¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
  const lng = Y ?? y;
  if(lat===undefined||lng===undefined) return;   // –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ ¬´–∫—Ä–∏–≤–∏—Ö¬ª –ø–∞–∫–µ—Ç—ñ–≤

  const { type, signal, alarm=false } = ev.payload;
  const sensorId = ev.sensorId;
  //const time = new Date().toLocaleTimeString('uk-UA', { hour12:false });

  /* --- –±—É—Ñ–µ—Ä / —Ä—ñ–≤–µ–Ω—å --- */
  const now  = Date.now();
  const cell = cellKey(lat,lng);
  buf.push({ ts: now, cellKey: cell, type, alarm, lat, lng });
  pruneBuffer(now);
  const level = levelForCell(cell,now);
  const clr   = colorByLevel(level);
  
  /* --- –ø—ñ–¥—Ñ–∞—Ä–±–æ–≤—É—î–º–æ –∫–æ–ª–æ —Å–µ–Ω—Å–æ—Ä–∞, —è–∫—â–æ –ø–æ–¥—ñ—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä–∞–¥—ñ—É—Å–∞ --- */
  const sz = sensorZones[sensorId];
  if(sz && map.distance(sz.circle.getLatLng(),[lat,lng])<=sz.radius){
    sz.circle.setStyle({color:clr,fillColor:clr});
  }

  /* --- –º–∞—Ä–∫–µ—Ä –ø–æ–¥—ñ—ó --- */
  L.circleMarker([lat,lng],{radius:6,color:clr,fillColor:clr,fillOpacity:0.9})
    .addTo(map)
    .bindPopup(`<b>${level}</b><br>Type: ${type}<br>Signal: ${signal}%`);

  /* --- —Ä—è–¥–æ–∫ –∂—É—Ä–Ω–∞–ª—É --- */
  const tbody = document.getElementById('event-log-body');
  if(tbody){
    const tStr = new Date(now).toLocaleTimeString('uk-UA',{hour12:false});
    tbody.insertAdjacentHTML('afterbegin',`
      <tr>
        <td>${eventIdx++}</td><td>${tStr}</td><td>${sensorId}</td><td>${type}</td>
        <td>${signal}%</td><td>${badgeHtml(level)}</td>
        <td>${lat.toFixed(5)}</td><td>${lng.toFixed(5)}</td>
      </tr>`);
    if(tbody.rows.length>200) tbody.deleteRow(-1);
  }

  if (level === 'Detection') {
  logToConsole(`–í–∏—è–≤–ª–µ–Ω–æ –¥—Ä–æ–Ω! Sensor #${sensorId}, —Ç–∏–ø ${type}`, '#ff5555');
  } else if (level === 'Alert') {
    logToConsole(`‚ö†Ô∏è  AL‚ÄãERT - ${level}: sensor #${sensorId}, ${type}`, '#ffbe00');
  }
});

/* -------- –∑–∞–ø—É—Å–∫ -------- */
connection.start()
  .then(() => console.log('SignalR connected'))
  .catch(err => console.error('SignalR error', err));

//   const tbody = document.getElementById('event-log-body');
//   if (tbody) {
//     tbody.insertAdjacentHTML('afterbegin', `
//       <tr>
//         <td>${eventIdx++}</td>
//         <td>${time}</td>
//         <td>${sensorId}</td>
//         <td>${type}</td>
//         <td>${signal}%</td>
//         <td>${badge}</td>
//         <td>${x.toFixed(5)}</td>
//         <td>${y.toFixed(5)}</td>
//       </tr>`);
//     if (tbody.rows.length > 200) tbody.deleteRow(-1);
//   }
// });
  
//startRealtime();

  // async function startRealtime() {
  //   try {
  //     await connection.start();
  //     console.log('SignalR connected!');
  //   } catch (error) {
  //     console.error('SignalR error:', error);
  //   }
  // }

</script>

<script>
  function logToConsole(msg, clr = '#0f0') {
  const el = document.getElementById('console-body');
  if (!el) return;
  const t = new Date().toLocaleTimeString('uk-UA', {hour12: false});
  el.insertAdjacentHTML('afterbegin',
    `<span style="color:${clr}">[${t}] ${msg}</span>\n`);
  // –ø—ñ–¥—á–∏—â–∞—î–º–æ, —â–æ–± –Ω–µ —Ä–æ–∑–¥—É–≤–∞—Ç–∏—Å—å –±–µ–∑–º–µ–∂–Ω–æ
  const lines = el.textContent.split('\n').length;
  if (lines > 300) el.textContent = el.textContent.split('\n').slice(0, 300).join('\n');
}

</script>


</body>
<!--end::Body-->

</html>